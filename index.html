<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio | Marius Brion</title>
  <style>
    /* CSS fourni par l'utilisateur, avec modifications pour s'adapter √† plus d'√©l√©ments */
    @import url('https://unpkg.com/normalize.css') layer(normalize);

    @layer normalize, base, demo, images, controls, debug, intro;

    @layer intro {
      /* Animation d'introduction (appliqu√©e √† toutes les bulles) */
      details[name=feature] {
        --from-scale: 0;
        --from-x: -50px;
        --from-y: 0;
        animation:
          start .6s calc(0.5s + (var(--index) * 0.08s)) var(--bounce) both,
          fade-in .6s calc(0.5s + (var(--index) * 0.08s)) var(--bounce) both,
          slide .6s calc(0.5s + (var(--index) * 0.08s)) var(--bounce) both,
          color-in .6s calc(0.7s + (var(--index) * 0.08s)) var(--bounce) both;
      }
     
      @keyframes slide {
        0% {
          scale: var(--from-scale, 0);
          translate: var(--from-x, -200px) var(--from-y, 0);
        }
      }
      @keyframes start {
        0% {
          width: var(--sizing);
        }
      }
      @keyframes color-in {
        0% {
          color: #0000;
        }
      }
      @keyframes fade-in {
        0% {
          opacity: 0;
        }
      }
    }

    @layer controls {
      [data-action] {
        display: grid;
        place-items: center;
        width: 36px;
        aspect-ratio: 1;
        border: 0;
        cursor: pointer;
        padding: 0;
        border-radius: 50%;
        background: var(--background);
        transition-property: opacity, background, translate, transform;
        transition-duration: 0.26s;
        transition-timing-function: var(--ease);
        z-index: 20;
        
        &:hover {
          background: var(--hover-background);
        }
        
        &::after {
          content: '';
          position: absolute;
          inset: -4px;
        }
        
        svg {
          width: 22px;
          color: #fff;
          stroke-width: 3;
        }
      }
      [data-action=next],
      [data-action=previous] {
        position: absolute;
        top: 50%;
        left: 1rem;
      }
      [data-action=previous] {
        translate: 0 -150%;
      }
      [data-action=next] {
        translate: 0 50%;

        svg {
          rotate: 180deg;
        }
      }
      [data-action=exit] {
        position: absolute;
        right: 1rem;
        top: 1rem;

        svg {
          rotate: 45deg;
        }
      }

      section:not(:has([open])) [data-action] {
        opacity: 0;
        transform: translateY(1rem);
        pointer-events: none;
      }
    }

    @layer images {
      body {
        overflow-x: hidden;
        --distance: 15%;
      }
      
      section .img-wrapper {
        display: inline-block;
        transform: translateX(0);
        transition-duration: calc(var(--speed) * 0), calc(var(--speed) * 0.65), calc(var(--speed) * 0.65);
        transition-duration: calc(var(--speed) * 0), calc(var(--speed) * 0.35), calc(var(--speed) * 1.15);
        transition-timing-function: var(--ease), var(--ease), var(--bounce);
        transform-origin: 100% 150%;
        transition-property: transform, opacity, scale;
      }
      section[data-checking-details=true] .img-wrapper {
        transform-origin: 50% 100%;
        transition-timing-function: var(--ease);
        transition-duration: calc(var(--speed) * 0.6), calc(var(--speed) * 0.25), calc(var(--speed) * 0.65);
      }
      
      section .img-block:nth-of-type(1) {
        z-index: 10;
      }

      section .img-block:nth-of-type(1) .img-wrapper {
        transform-origin: 50% 50%;
        transition-property: translate, opacity, scale;
        transition-duration: calc(var(--speed) * .4), calc(var(--speed) * 0.35), calc(var(--speed) * 1.15);
        transition-timing-function: ease-in, var(--ease), var(--bounce);
      }
      
      /* LOGIQUE D'AFFICHAGE : Mise √† jour apr√®s regroupement des comp√©tences */
      /* 8 'details' -> 9 'img-block' (le premier √©tant l'accueil) */

      /* √âtats ouverts - Affiche l'image correspondante */
      section:has(details:nth-of-type(1)[open]) .column:last-of-type .img-block:nth-of-type(2),
      section:has(details:nth-of-type(2)[open]) .column:last-of-type .img-block:nth-of-type(3),
      section:has(details:nth-of-type(3)[open]) .column:last-of-type .img-block:nth-of-type(4),
      section:has(details:nth-of-type(4)[open]) .column:last-of-type .img-block:nth-of-type(5),
      section:has(details:nth-of-type(5)[open]) .column:last-of-type .img-block:nth-of-type(6),
      section:has(details:nth-of-type(6)[open]) .column:last-of-type .img-block:nth-of-type(7),
      section:has(details:nth-of-type(7)[open]) .column:last-of-type .img-block:nth-of-type(8),
      section:has(details:nth-of-type(8)[open]) .column:last-of-type .img-block:nth-of-type(9) {
        translate: var(--distance) 0;
        z-index: 2;
        
        .img-wrapper {
          transform: translateX(calc(var(--distance) * -1));  
          transition-delay: calc(var(--speed) * 0.2);
        }
      }
      
      /* √âtat par d√©faut (rien d'ouvert) */
      section:not(:has([open])) div.column:nth-of-type(2)  div.img-block:first-of-type {
        translate: 0 0;

        .img-wrapper {
          transform: translateX(0%);
          transition-delay: calc(var(--speed) * 0.2);
        }
      }

      /* √âtats ferm√©s - Cache les images non s√©lectionn√©es */
      section:not(:has(details:nth-of-type(1)[open])) .column:last-of-type .img-block:nth-of-type(2),
      section:not(:has(details:nth-of-type(2)[open])) .column:last-of-type .img-block:nth-of-type(3),
      section:not(:has(details:nth-of-type(3)[open])) .column:last-of-type .img-block:nth-of-type(4),
      section:not(:has(details:nth-of-type(4)[open])) .column:last-of-type .img-block:nth-of-type(5),
      section:not(:has(details:nth-of-type(5)[open])) .column:last-of-type .img-block:nth-of-type(6),
      section:not(:has(details:nth-of-type(6)[open])) .column:last-of-type .img-block:nth-of-type(7),
      section:not(:has(details:nth-of-type(7)[open])) .column:last-of-type .img-block:nth-of-type(8),
      section:not(:has(details:nth-of-type(8)[open])) .column:last-of-type .img-block:nth-of-type(9) {
        .img-wrapper {
          transition-property: translate, opacity, scale;
          transition-timing-function: ease-in, ease-out, ease-in;
          translate: 0 0;
          scale: 0.9;
          opacity: 0;
        }
      }

      .img-block:nth-of-type(1) .img-wrapper img {
        object-position: calc(50% + 4rem) 50%;
      }
      .img-block:nth-of-type(2) .img-wrapper video { /* Cible la vid√©o */
        object-position: center center;
      }
      
      /* √âtats de transition */
      section[data-checking-details=true] {
        &:not(:has(details:nth-of-type(1)[open])) .column:last-of-type .img-block:nth-of-type(2),
        &:not(:has(details:nth-of-type(2)[open])) .column:last-of-type .img-block:nth-of-type(3),
        &:not(:has(details:nth-of-type(3)[open])) .column:last-of-type .img-block:nth-of-type(4),
        &:not(:has(details:nth-of-type(4)[open])) .column:last-of-type .img-block:nth-of-type(5),
        &:not(:has(details:nth-of-type(5)[open])) .column:last-of-type .img-block:nth-of-type(6),
        &:not(:has(details:nth-of-type(6)[open])) .column:last-of-type .img-block:nth-of-type(7),
        &:not(:has(details:nth-of-type(7)[open])) .column:last-of-type .img-block:nth-of-type(8),
        &:not(:has(details:nth-of-type(8)[open])) .column:last-of-type .img-block:nth-of-type(9) {
          .img-wrapper {
            transform-origin: 50% 100%;
            translate: calc(var(--distance) * -1) 0;
          }
        }  
      }
      
      /* Cache l'image de couverture quand un d√©tail est ouvert */
      section:has([open]) .column:last-of-type .img-block:first-of-type {
        .img-wrapper {
          translate: 0 0;
          scale: 1.25;
          opacity: 0;
        }
      }

      /* Style pour les iframes et vid√©os */
      .img-wrapper video,
      .img-wrapper iframe {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        height: 100%;
        width: 100cqw;
        object-fit: cover;
        border: none;
      }

    }

    @layer demo {
      :root {
        --ease: cubic-bezier(.42,0,.58,1);
        --bounce:linear(
          0 0%, 0.4214 6.61%, 0.5762 9.59%,
          0.7047 12.55%, 0.8115 15.61%,
          0.8964 18.78%, 0.9614 22.13%,
          1.0078 25.74%, 1.0282 28.18%,
          1.0422 30.82%, 1.0503 33.7%,
          1.0527 36.95%, 1.0468 42.53%,
          1.015 58.45%, 1.0045 67.2%,
          0.9987 80.44%, 1 100%
        );
        --speed: 0.5s;
        --width: 300px; /* Largeur du contenu textuel */
        --sizing: 56px;
        --background: light-dark(hsl(0 0% 10% / 0.75), hsl(0 0% 40% / 0.5));
        --hover-background: light-dark(hsl(0 0% 18% / 0.75), hsl(0 0% 48% / 0.5));
      }

      section {
        /* margin-block: 2rem; */ /* Supprim√© */
        display: flex;
        place-items: center;
        gap: 1rem;
        position: relative;
        /* min-height: 500px; */ /* Supprim√© */
        /* aspect-ratio: 4 / 3; */ /* Supprim√© */
        justify-content: flex-start;
        overflow: hidden;
        /* max-width: calc(100vw - 2rem); */ /* Supprim√© */
        /* width: 800px; */ /* Supprim√© */
        width: 100vw; /* Ajout√© */
        height: 100vh; /* Ajout√© */
        /* border-radius: 1rem; */ /* Supprim√© */
        background: light-dark(#fff, #000);
        /* border: 2px solid color-mix(in oklch, canvasText, canvas 80%); */ /* Supprim√© */
        container-type: inline-size;
        
        [data-action] {
          position: absolute;
        }
      }
      
      .column:first-of-type {
        padding-left: 4rem;
        display: grid;
        grid-auto-rows: auto;
        width: var(--width);
        place-items: center;
        justify-items: start;
        gap: .5rem;
        z-index: 20;
        flex: 1 0 var(--width);
        max-height: 90vh; /* Augment√© pour voir plus d'items */
        overflow-y: auto; /* Permet de faire d√©filer les projets si trop nombreux */
        padding-top: 1rem;
        padding-bottom: 1rem;

        /* Custom Scrollbar */
        scrollbar-width: thin;
        scrollbar-color: var(--hover-background) transparent;
        &::-webkit-scrollbar {
          width: 8px;
        }
        &::-webkit-scrollbar-track {
          background: transparent;
        }
        &::-webkit-scrollbar-thumb {
          background-color: var(--hover-background);
          border-radius: 4px;
          border: 2px solid transparent; /* Cr√©e un effet de padding */
          background-clip: content-box; /* Assure que la bordure est transparente */
        }
        &::-webkit-scrollbar-thumb:hover {
          background-color: var(--background);
        }
      }

      .column:last-of-type {
        width: 100cqi;
        height: 100%;
        position: relative;
        display: grid;
        grid-auto-flow: row;
        place-items: center;
        gap: .675rem;
        pointer-events: none;
      }


      .column:last-of-type .img-block {
        position: absolute;
        inset: 0;

        .img-wrapper {
          width: 100%;
          object-fit: cover;
          height: 100%;
          
          img {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            aspect-ratio: 1;
            height: 100%;
            width: 100cqw;
            object-fit: cover;
          }
        }
      }
      
      summary {
        display: inline-flex;
        gap: 0.5rem;
        align-items: center;
        padding: 1.5rem;
        border-radius: calc(var(--sizing) * 0.5);
        height: var(--sizing);
        min-height: var(--sizing);
        cursor: pointer;
        z-index: 20;
        position: relative;
        transition-property: opacity, width;
        transition-duration: calc(var(--speed) * 0.5), calc(var(--speed) * 1.5);
        transition-timing-function: var(--ease), var(--bounce);
        transition-delay: calc(var(--speed) * 1.05), 0s;
        white-space: nowrap;
        font-weight: 600;
        outline-color: canvasText;

        svg {
          width: 24px;
          aspect-ratio: 1;
        }
      }
      
      [open] summary {
        opacity: 0;
        pointer-events: none;
        transition-delay: 0s;
        width: var(--width);
      }
      
      details {
        display: inline-block;
        border-radius: calc(var(--sizing) * 0.5);
        overflow: hidden;
        min-height: var(--sizing);
        background:var(--background);
        backdrop-filter: blur(20px) saturate(180%);
        color: #fff;
        transition: background 0.2s var(--ease);;

        &:hover:not([open]) {
          background: var(--hover-background);
        }
      }
      
      summary:marker {
        opacity: 0;
      }
      
      details::details-content {
        opacity: 0;
        transition-property: content-visibility, height, width, opacity;
        transition-duration: var(--speed), calc(var(--speed) * 1.6), calc(var(--speed) * 1.6), calc(var(--speed) * 0.5);
        transition-behavior: allow-discrete;
        transition-timing-function: var(--ease), var(--bounce), var(--bounce), var(--ease);
        overflow: visible;
        height: var(--sizing);
        margin-top: calc(var(--sizing) * -1);
        width: 120px;
        min-height: var(--sizing);
      }
      
      [open]::details-content {
        height: fit-content;
        width: var(--width);
        opacity: 1;
        transition-delay: 0s, 0s, 0s, calc(var(--speed) * 1);
      }
      .content {
        width: var(--width);
        min-height: var(--sizing);
      }
      
      details,
      details::details-content {
        interpolate-size: allow-keywords;
      }
      
      .content p {
        margin: 0;
        width: var(--width);
        padding: 1.5rem;
        display: inline-block;
        font-size: 0.9rem; /* Taille de police ajust√©e pour le contenu */
        line-height: 1.5;
        white-space: normal; /* Permet au texte de revenir √† la ligne */
      }
      .content a {
        color: #90caf9; /* Couleur de lien claire */
        text-decoration: underline;
      }
      .content a:hover {
        color: #fff;
      }
      .content h4 { /* Titre pour les sous-sections de comp√©tences */
        font-family: 'SF Pro Text', sans-serif, system-ui;
        font-weight: 700;
        color: #fff;
        margin: 1.5rem 1.5rem 0 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid var(--hover-background);
      }
      .content .competence-p {
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
      }
    }

    @layer base {
      :root {
        --font-size-min: 16;
        --font-size-max: 20;
        --font-ratio-min: 1.2;
        --font-ratio-max: 1.33;
        --font-width-min: 375;
        --font-width-max: 1500;
      }

      html {
        color-scheme: light dark;
      }

      [data-theme='light'] {
        color-scheme: light only;
      }

      [data-theme='dark'] {
        color-scheme: dark only;
      }

      :where(.fluid) {
        --fluid-min: calc(
          var(--font-size-min) * pow(var(--font-ratio-min), var(--font-level, 0))
        );
        --fluid-max: calc(
          var(--font-size-max) * pow(var(--font-ratio-max), var(--font-level, 0))
        );
        --fluid-preferred: calc(
          (var(--fluid-max) - var(--fluid-min)) /
            (var(--font-width-max) - var(--font-width-min))
        );
        --fluid-type: clamp(
          (var(--fluid-min) / 16) * 1rem,
          ((var(--fluid-min) / 16) * 1rem) -
            (((var(--fluid-preferred) * var(--font-width-min)) / 16) * 1rem) +
            (var(--fluid-preferred) * var(--variable-unit, 100vi)),
          (var(--fluid-max) / 16) * 1rem
        );
        font-size: var(--fluid-type);
      }

      *,
      *:after,
      *:before {
        box-sizing: border-box;
      }

      body {
        background: light-dark(#fff, #000);
        /* display: grid; */ /* Supprim√© */
        /* place-items: center; */ /* Supprim√© */
        min-height: 100vh;
        font-family: 'SF Pro Text', 'SF Pro Icons', 'AOS Icons', 'Helvetica Neue',
          Helvetica, Arial, sans-serif, system-ui;
        margin: 0; /* Assure qu'il n'y a pas de marge */
        padding: 0; /* Assure qu'il n'y a pas de padding */
      }

      /* body::before {
        --size: 45px;
        --line: color-mix(in hsl, canvasText, transparent 80%);
        content: '';
        height: 100vh;
        width: 100vw;
        position: fixed;
        background: linear-gradient(
              90deg,
              var(--line) 1px,
              transparent 1px var(--size)
            )
            calc(var(--size) * 0.36) 50% / var(--size) var(--size),
          linear-gradient(var(--line) 1px, transparent 1px var(--size)) 0%
            calc(var(--size) * 0.32) / var(--size) var(--size);
        mask: linear-gradient(-20deg, transparent 50%, white);
        top: 0;
        transform-style: flat;
        pointer-events: none;
        z-index: -1;
      } */

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }
    }
  </style>
</head>
<body data-theme='dark'> <!-- Force le th√®me sombre pour correspondre au design -->

  <main>
    <section>
      <!-- COLONNE 1: CONTENU DU PORTFOLIO -->
      <div class="column">
        <!-- √Ä Propos -->
        <details name=feature style="--index: 0;">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span>√Ä Propos de Moi</span>
          </summary>
          <div class="content">  
            <p>√âtudiant en 2√®me ann√©e de BUT Villes et Territoires Durables, passionn√© par l'urbanisme. Mon stage √† <a href="https://www.grand-chatellerault.fr/" target="_blank" rel="noopener noreferrer">Grand Ch√¢tellerault</a> (Action C≈ìur de Ville) et √† l'<a href="https://www.at86.fr/" target="_blank" rel="noopener noreferrer">Agence des Territoires de la Vienne</a> (mobilit√©s, am√©nagement durable) ont renforc√© mon d√©sir de poursuivre en master pour contribuer √† des villes intelligentes et r√©silientes.</p>
          </div>
        </details>
        
        <!-- Projet: Calculateur Carbone -->
        <details name=feature style="--index: 1;">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span>Projet: Calculateur Carbone</span>
          </summary>
          <div class="content">  
            <p>J'ai d√©velopp√© un Calculateur Carbone qui estime le co√ªt social de la cr√©ation de logements en p√©riph√©rie, en lien avec la d√©pendance √† la voiture. Il vise √† sensibiliser aux enjeux de l'√©talement urbain et des mobilit√©s pendulaires. <br><br><a href="https://mariusbrion.github.io/calculateur-carbone/" target="_blank" rel="noopener noreferrer">Acc√©der au Calculateur</a></p>
          </div>
        </details>

        <!-- Projet: Cartographie 3D -->
        <details name=feature style="--index: 2;">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span>Projet: Cartographie 3D</span>
          </summary>
          <div class="content">  
            <p>Cartographie 3D des mobilit√©s pendulaires √† Ch√¢tellerault. R√©alis√©e avec QGIS, Kepler.gl, et geojson.io, elle explore les habitudes domicile-travail en zone p√©riurbaine et l'impact de la localisation des commerces (donn√©es 3D IGN) sur les flux. (Fichier GIF corrompu, en attente de remplacement).</p>
          </div>
        </details>
        
        <!-- Projet: Analyse CO‚ÇÇ Europe -->
        <details name=feature style="--index: 3;">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span>Projet: Analyse CO‚ÇÇ Europe</span>
          </summary>
          <div class="content">  
            <p>Dashboard interactif (Looker Studio) analysant les √©missions de CO‚ÇÇ des transports en Europe. Il croise les donn√©es de l'AEE (√©missions v√©hicules neufs) et de la Banque Mondiale (d√©mographie) pour offrir une lecture critique des dynamiques de d√©carbonation. <br><br><a href="https://lookerstudio.google.com/embed/reporting/88ef1b09-3975-4195-97b4-14f57f97abab/page/0FgHF" target="_blank" rel="noopener noreferrer">Voir le Dashboard</a></p>
          </div>
        </details>
        
        <!-- Projet: Lecture R√©glementaire (QGIS) -->
        <details name=feature style="--index: 4;">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span>Projet: Lecture QGIS</span>
          </summary>
          <div class="content">  
            <p>Animation QGIS montrant la mobilisation de donn√©es (b√¢ti, infrastructures, zones prot√©g√©es) pour une lecture r√©glementaire d'un territoire. Int√®gre des normes du PLU (haies, espaces verts) pour √©valuer la faisabilit√© de projets. (Fichier GIF corrompu, en attente de remplacement).</p>
          </div>
        </details>
        
        <!-- Comp√©tences (Regroup√©es) -->
        <details name=feature style="--index: 5;">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span>Comp√©tences</span>
          </summary>
          <div class="content">  
            <h4>Analyse Territoriale</h4>
            <p class="competence-p">Int√©r√™t pour l'analyse territoriale fond√©e sur les sciences humaines (Durkheim) et le design urbain (Jon Lang). Ces lectures nourrissent ma capacit√© √† croiser approches qualitatives (enqu√™tes) et quantitatives (statistiques, cartos) pour d√©crypter la complexit√© des territoires.</p>
            
            <h4>SIG & Cartographie</h4>
            <p class="competence-p">Ma√Ætrise de QGIS (g√©otraitement, analyse spatiale) et Kepler.gl (visualisation). Capable de transformer des donn√©es complexes en repr√©sentations visuelles claires, comme la carte des in√©galit√©s de population dans la Vienne, pour comprendre les enjeux d'√©quit√© territoriale.</p>
            
            <h4>Langues & Outils</h4>
            <p class="competence-p" style="padding-bottom: 1.5rem;">Anglais B2+ (C1 √† l'oral/√©crit certifi√© Cambridge), Allemand B1, Espagnol B1. Ma√Ætrise de HTML/CSS (ce portfolio), Looker Studio, Google Sheets/Excel (analyse, nettoyage), et QGIS / Kepler.gl pour l'analyse spatiale.</p>
          </div>
        </details>

        <!-- Exp√©rience: Table Ronde (Festisol) -->
        <details name=feature style="--index: 6;">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span>Exp: Table Ronde Festisol</span>
          </summary>
          <div class="content">  
            <p>Organisation et animation d'une table ronde "√âvasion culturelle" lors du Festisol √† l'IUT, sur l'acc√®s √† la culture en milieu carc√©ral. L'√©v√©nement a rassembl√© plus de 100 personnes et des intervenants comme David Desclos (ex-d√©tenu, humoriste) et Sarah Erasmi (intervenante en prison).</p>
          </div>
        </details>
        
        <!-- Contact & CV -->
        <details name=feature style="--index: 7;">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <span>Contact & CV</span>
          </summary>
          <div class="content">  
            <p>Merci de votre visite. Si vous souhaitez √©changer, n'h√©sitez pas √† me contacter ou √† t√©l√©charger mon CV. <br><br><a href="CV-Marius-Brion.pdf" target="_blank">üëâ T√©l√©charger mon CV</a> <br><a href="mailto:marius.brion@icloud.com">üì¨ Me contacter</a></p>
          </div>
        </details>
      </div>
      
      <!-- COLONNE 2: IMAGES DU PORTFOLIO -->
      <div class="column">
        <!-- Image 1: Par d√©faut (Accueil) -->
        <div class="img-block">
          <div class="img-wrapper">
            <img src="https://placehold.co/800x800/222222/FFFFFF?text=Marius+Brion\n\n%C3%89tudiant+en+Villes\n%26+Territoires+Durables" alt="Accueil Portfolio Marius Brion" />
          </div>
        </div>
        <!-- Image 2: √Ä Propos (Vid√©o) -->
        <div class="img-block">
          <div class="img-wrapper video-wrapper">
            <video autoplay muted loop preload="auto" playsinline>
              <source src="https://videos.pexels.com/video-files/20046744/20046744-uhd_3840_2160_60fps.mp4" type="video/mp4">
            </video>
          </div>
        </div>
        <!-- Image 3: Calculateur Carbone -->
        <div class="img-block">
          <div class="img-wrapper">
            <img src="calculateur.png" alt="Projet Calculateur Carbone" />
          </div>
        </div>
        <!-- Image 4: Cartographie 3D (Placeholder) -->
        <div class="img-block">
          <div class="img-wrapper">
            <img src="https://placehold.co/800x800/444444/FFFFFF?text=Projet%3A\nCartographie+3D%0A(gif+cass%C3%A9)" alt="Projet Cartographie 3D" />
          </div>
        </div>
        <!-- Image 5: Analyse CO‚ÇÇ Europe (Iframe) -->
        <div class="img-block">
          <div class="img-wrapper iframe-wrapper">
            <iframe src="https://lookerstudio.google.com/embed/reporting/88ef1b09-3975-4195-97b4-14f57f97abab/page/0FgHF" sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"></iframe>
          </div>
        </div>
        <!-- Image 6: Lecture R√©glementaire (QGIS) (Placeholder) -->
        <div class="img-block">
          <div class="img-wrapper">
            <img src="https://placehold.co/800x800/666666/FFFFFF?text=Projet%3A\nLecture+QGIS%0A(gif+cass%C3%A9)" alt="Projet Lecture QGIS" />
          </div>
        </div>
        <!-- Image 7: Comp√©tences (Regroup√©es) -->
        <div class="img-block">
          <div class="img-wrapper">
            <!-- Utilisation d'une des images de comp√©tence comme placeholder -->
            <img src="urban-typology.jpg" alt="Comp√©tences" /> 
          </div>
        </div>
        <!-- Image 8: Table Ronde (Festisol) -->
        <div class="img-block">
          <div class="img-wrapper">
            <img src="table_ronde_1.JPG" alt="Exp√©rience Table Ronde Festisol" />
          </div>
        </div>
        <!-- Image 9: Contact & CV -->
        <div class="img-block">
          <div class="img-wrapper">
            <img src="https://placehold.co/800x800/777777/FFFFFF?text=Contact+%26+CV" alt="Contact et CV" />
          </div>
        </div>
      </div>
      
      <!-- BOUTONS DE NAVIGATION -->
      <button aria-hidden="true" tabindex="-1" data-action="next">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />
        </svg>        
      </button>
      <button aria-hidden="true" tabindex="-1" data-action="previous">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />
        </svg>        
      </button>
      <button aria-hidden="true" tabindex="-1" data-action="exit">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
        </svg>        
      </button>
    </section>
  </main>
  
  <script type="module">
    // JS simplifi√© pour la navigation
    const section = document.querySelector('section');
    let detailsElements = section.querySelectorAll('details[name="feature"]');
    const nextButton = section.querySelector('button[data-action="next"]');
    const previousButton = section.querySelector('button[data-action="previous"]');
    const exitButton = section.querySelector('button[data-action="exit"]');

    // Trouver l'√©l√©ment 'details' actuellement ouvert
    const getOpenDetails = () => {
      return Array.from(detailsElements).findIndex(details => details.open);
    }

    // Naviguer au d√©tail suivant
    nextButton?.addEventListener('click', () => {
      const currentIndex = getOpenDetails();
      
      if (currentIndex !== -1) {
        detailsElements[currentIndex].open = false; // Ferme l'actuel
        const nextIndex = (currentIndex + 1) % detailsElements.length; // Calcule le suivant
        detailsElements[nextIndex].open = true; // Ouvre le suivant
      } else if (detailsElements.length > 0) {
        detailsElements[0].open = true; // S'il n'y en a pas d'ouvert, ouvre le premier
      }
    });

    // Naviguer au d√©tail pr√©c√©dent
    previousButton?.addEventListener('click', () => {
      const currentIndex = getOpenDetails();
      
      if (currentIndex !== -1) {
        detailsElements[currentIndex].open = false; // Ferme l'actuel
        const previousIndex = (currentIndex - 1 + detailsElements.length) % detailsElements.length; // Calcule le pr√©c√©dent
        detailsElements[previousIndex].open = true; // Ouvre le pr√©c√©dent
      } else if (detailsElements.length > 0) {
        detailsElements[detailsElements.length - 1].open = true; // S'il n'y en a pas d'ouvert, ouvre le dernier
      }
    });

    // Fermer le d√©tail actuel
    exitButton?.addEventListener('click', () => {
      const currentIndex = getOpenDetails();
      
      if (currentIndex !== -1) {
        detailsElements[currentIndex].open = false;
      }
    });

    // G√®re l'√©tat pour les animations CSS
    const syncState = async () => {
      // Si aucun 'details' n'est ouvert
      if (!section.matches(':has([open])')) {
        section.dataset.checkingDetails = false;
      } else {
        // Si un 'details' est ouvert, on attend la fin des animations
        await Promise.allSettled(section.getAnimations({ subtree: true }).map(a => a.finished));
        section.dataset.checkingDetails = true;
      }
    }

    // √âcoute les √©v√©nements 'toggle' sur tous les 'details'
    section.addEventListener('toggle', (e) => {
        // Si un 'details' vient de s'ouvrir
        if (e.target.open) {
            // Ferme tous les autres 'details' sauf celui qui vient de s'ouvrir
            detailsElements.forEach(details => {
                if (details !== e.target) {
                    details.open = false;
                }
            });
        }
        // Met √† jour l'√©tat pour les animations CSS
        syncState();
    }, true);

  </script>
</body>
</html>

